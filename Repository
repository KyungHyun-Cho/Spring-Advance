@Repository
@RequiredArgsConstructor
public class OrderRepositoryV5 {
	private final TraceTemplate template;

	public void save(String itemId) throws Exception {
		template.execute("OrderRepository.save()", () -> {
			//저장 로직
			if (itemId.equals("ex")) {
				throw new IllegalStateException("예외 발생!");
			}
			Thread.sleep(1000);
			return null;
		});
	}
}
